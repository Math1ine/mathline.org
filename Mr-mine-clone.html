<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mr. Mine Clone</title>
<style>
  body { font-family: Arial, sans-serif; margin:0; background:#3E2723; color:white; }
  #topBar { background:#6D4C41; padding:10px; text-align:center; }
  #resources { display:flex; justify-content:space-around; margin:10px 0; }
  #mainArea { display:flex; justify-content:center; margin:20px 0; }
  #sidebar { width:250px; background:#6D4C41; padding:10px; }
  #mineArea { display:grid; grid-template-columns:repeat(10,50px); grid-gap:2px; margin-left:20px; }
  .block { width:50px; height:50px; background:#795548; display:flex; align-items:center; justify-content:center; cursor:pointer; }
  #shop { width:350px; background:#6D4C41; padding:10px; border-radius:5px; position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); display:none; z-index:10; }
  #shop h2 { text-align:center; }
  .upgrade { display:flex; align-items:center; justify-content:space-between; margin:10px 0; background:#8D6E63; padding:5px; border-radius:5px; }
  .upgrade img { width:50px; height:50px; }
  button { background:#FF5722; color:white; border:none; padding:5px; cursor:pointer; margin:2px; }
  button:hover { background:#FF7043; }
  #overlay { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); display:none; z-index:5; }
</style>
</head>
<body>

<div id="topBar"><h1>Mr. Mine Clone</h1></div>
<div id="resources">
  <div>Gold: <span id="gold">0</span></div>
  <div>Iron: <span id="iron">0</span></div>
  <div>Coal: <span id="coal">0</span></div>
  <div>Gems: <span id="gems">0</span></div>
  <div>Tickets: <span id="tickets">0</span></div>
  <div>Depth: <span id="depth">1</span></div>
</div>

<div id="mainArea">
  <div id="sidebar">
    <button onclick="openShop()">Open Drill Shop</button>
    <button id="hireMinerBtn">Hire Miner (50 Gold)</button>
    <button id="upgradePickaxeBtn">Upgrade Pickaxe (100 Gold)</button>
  </div>
  <div id="mineArea">
    <!-- Mine blocks generated by JS -->
  </div>
</div>

<div id="overlay" onclick="closeShop()"></div>

<div id="shop">
  <h2>Drill Upgrade Shop</h2>
  <div id="engineUpgrades"></div>
  <div id="drillUpgrades"></div>
  <div id="fanUpgrades"></div>
  <div id="cargoUpgrades"></div>
  <button onclick="closeShop()">Close Shop</button>
</div>

<script>
const resources = {gold:0, iron:0, coal:0, gems:0, tickets:0, depth:1};
let miners=0, minerCost=50, pickaxeLevel=1, pickaxeCost=100, goldPerClick=1;

// Generate mine blocks
const mineArea = document.getElementById('mineArea');
for(let i=0;i<100;i++){
  const block=document.createElement('div');
  block.className='block';
  block.textContent='ðŸª¨';
  block.addEventListener('click',()=>mineBlock(block));
  mineArea.appendChild(block);
}

function updateDisplay(){
  document.getElementById('gold').textContent=resources.gold;
  document.getElementById('iron').textContent=resources.iron;
  document.getElementById('coal').textContent=resources.coal;
  document.getElementById('gems').textContent=resources.gems;
  document.getElementById('tickets').textContent=resources.tickets;
  document.getElementById('depth').textContent=Math.min(Math.floor(resources.depth),499);
}

function mineBlock(block){
  resources.gold+=goldPerClick;
  if(Math.random()<0.6) resources.iron+=1;
  if(Math.random()<0.3) resources.coal+=1;
  if(Math.random()<0.05) resources.gems+=1;
  if(Math.random()<0.02) resources.tickets+=1;
  if(resources.depth<499) resources.depth+=0.01;
  block.textContent='â¬›';
  updateDisplay();
}

// Hire miner
document.getElementById('hireMinerBtn').addEventListener('click',()=>{
  if(resources.gold>=minerCost){resources.gold-=minerCost; miners+=1; minerCost=Math.floor(minerCost*1.5); updateDisplay();}
  else alert("Not enough gold!");
});
// Upgrade pickaxe
document.getElementById('upgradePickaxeBtn').addEventListener('click',()=>{
  if(resources.gold>=pickaxeCost){resources.gold-=pickaxeCost; pickaxeLevel+=1; goldPerClick=pickaxeLevel; pickaxeCost=Math.floor(pickaxeCost*2); updateDisplay();}
  else alert("Not enough gold!");
});

// Shop logic
const upgrades={
  engines:[{name:"Copper Engine",desc:"Increase drill power 10%",cost:{gold:100,iron:50},img:"https://via.placeholder.com/50"}],
  drills:[{name:"Steel Drill",desc:"Enhance mining 15%",cost:{gold:150,coal:75},img:"https://via.placeholder.com/50"}],
  fans:[{name:"Turbo Fan",desc:"Boost speed 20%",cost:{gold:200,gems:100},img:"https://via.placeholder.com/50"}],
  cargo:[{name:"Large Cargo",desc:"Increase capacity 25%",cost:{gold:250,iron:125},img:"https://via.placeholder.com/50"}]
};

function openShop(){
  document.getElementById('shop').style.display='block';
  document.getElementById('overlay').style.display='block';
  displayUpgrades();
}
function closeShop(){
  document.getElementById('shop').style.display='none';
  document.getElementById('overlay').style.display='none';
}

function displayUpgrades(){
  for(let cat in upgrades){
    const container=document.getElementById(cat+'Upgrades');
    container.innerHTML='';
    upgrades[cat].forEach(upg=>{
      const div=document.createElement('div');
      div.className='upgrade';
      div.innerHTML=`<img src="${upg.img}" alt="${upg.name}"><div><strong>${upg.name}</strong><p>${upg.desc}</p><p>Cost: ${upg.cost.gold||0} Gold ${upg.cost.iron||0} Iron ${upg.cost.coal||0} Coal ${upg.cost.gems||0} Gems</p><button onclick="purchaseUpgrade('${cat}','${upg.name}')">Buy</button></div>`;
      container.appendChild(div);
    });
  }
}

function purchaseUpgrade(cat,name){
  const upg=upgrades[cat].find(u=>u.name===name);
  const canAfford=Object.keys(upg.cost).every(r=>resources[r]>=upg.cost[r]);
  if(canAfford){
    Object.keys(upg.cost).forEach(r=>resources[r]-=upg.cost[r]);
    alert(`Purchased ${upg.name}!`);
    updateDisplay();
  } else alert("Not enough resources!");
}

updateDisplay();
</script>

</body>
</html>
