<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Math Line</title>
<style>
:root {
  --bg1: #0b1a0b;
  --bg2: #144d14;
  --bg3: #b30000;
  --bg4: #fffafa;
  --accent: #ffcc00;
  --text-color: #ffffff;
  --card-size: 180px;
  --card-radius: 12px;
}

html, body {
  margin: 0; padding: 0; font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  color: var(--text-color);
  background: linear-gradient(-45deg, var(--bg1), var(--bg2), var(--bg3), var(--bg4));
  background-size: 400% 400%;
  animation: moveBackground 18s ease infinite;
  overflow-x: hidden;
}

@keyframes moveBackground {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* Decorations */
.decoration {
  position: fixed;
  pointer-events: none;
  z-index: 1;
  user-select: none;
}

/* Header */
header { padding: 20px; text-align: center; position: relative; z-index: 6; }
header h1 { margin: 0; font-size: 2.6rem; color: var(--bg4); text-shadow: 0 2px 8px rgba(0,0,0,0.45); }

/* String Lights */
#string-lights {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 40px;
  pointer-events: none;
  display: flex;
  justify-content: space-around;
  z-index: 2;
}
.light {
  width: 12px; height: 12px; border-radius: 50%;
  background-color: red;
  box-shadow: 0 0 6px rgba(255,255,0,0.8);
  animation: glow 1.2s infinite alternate;
}
.light:nth-child(2n) { background-color: green; }
.light:nth-child(3n) { background-color: yellow; }
@keyframes glow { 0% { opacity: 0.4; } 100% { opacity: 1; } }

/* Top controls */
.top-controls { display: flex; justify-content: center; margin-bottom: 8px; position: relative; z-index: 6; }
#search-input {
  background: rgba(20,77,20,0.6);
  color: var(--text-color);
  width: 100%; max-width: 520px;
  padding: 8px 12px;
  font-size: 15px;
  border-radius: 8px;
  border: 2px solid rgba(255,255,255,0.06);
  outline: none;
}

/* Game Grid */
#game-list {
  display: flex; flex-wrap: wrap; justify-content: center;
  gap: 15px; padding: 18px; position: relative; z-index: 6;
}
.game-card {
  position: relative; width: var(--card-size); height: var(--card-size);
  display: flex; align-items: center; justify-content: center;
  background: rgba(10,8,6,0.45); border: 2px solid rgba(0,0,0,0.25);
  border-radius: var(--card-radius); cursor: pointer; color: var(--bg4);
  font-weight: 800; text-align: center; padding: 8px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.45);
  transition: transform .14s ease, box-shadow .14s ease;
}
.game-card:hover { transform: translateY(-6px) scale(1.02); box-shadow: 0 18px 36px rgba(0,0,0,0.55); }

/* iframe */
#game-frame {
  display: none; width: 95%; max-width: 1200px; height: 680px;
  margin: 12px auto; border: none; border-radius: 12px; background: #000;
  position: relative; z-index: 6; box-shadow: 0 16px 40px rgba(0,0,0,0.6);
}

/* Floating buttons */
.floating-btn {
  position: fixed; padding: 8px 12px; border-radius: 8px; border: none; cursor: pointer;
  z-index: 12; font-weight: 700; box-shadow: 0 6px 16px rgba(0,0,0,0.4); color: #fff;
}
#fullscreen-btn { top: 18px; right: 18px; background: var(--accent); display: none; }
#back-btn { top: 18px; left: 18px; background: rgba(0,0,0,0.55); display: none; }
</style>
</head>
<body>
<header>
  <h1>Math Line</h1>
  <div id="string-lights"></div>
</header>

<div class="top-controls">
  <input id="search-input" type="search" placeholder="Search games..." aria-label="Search games">
</div>

<div id="game-list"></div>

<iframe id="game-frame" sandbox="allow-scripts allow-same-origin"></iframe>

<button id="fullscreen-btn" class="floating-btn">Fullscreen</button>
<button id="back-btn" class="floating-btn">‚Üê Back</button>

<script>
// ================= Decorations =================
const DECO_EMOJIS = ["‚ùÑÔ∏è","üéÑ","üéÖ","‚õÑ","ü¶å","üåü"];
let decorations = [];
const DECO_COUNT = 25;

function createDecorations() {
  document.querySelectorAll('.decoration').forEach(n => n.remove());
  decorations = [];
  for (let i = 0; i < DECO_COUNT; i++) {
    const d = document.createElement('div');
    d.className = 'decoration';
    d.textContent = DECO_EMOJIS[Math.floor(Math.random() * DECO_EMOJIS.length)];
    d.style.left = (Math.random() * 110 - 5) + 'vw';
    d.style.top = (Math.random() * 110 - 5) + 'vh';
    d.style.fontSize = (16 + Math.random()*36) + 'px';
    d.style.opacity = (0.4 + Math.random()*0.6);
    d.dataset.vy = (0.02 + Math.random()*0.12);
    d.dataset.vx = ((Math.random()-0.5)*0.04);
    decorations.push(d);
    document.body.appendChild(d);
  }
}
createDecorations();

function animateDecorations() {
  decorations.forEach(d => {
    let top = parseFloat(d.style.top), left = parseFloat(d.style.left);
    top += parseFloat(d.dataset.vy); left += parseFloat(d.dataset.vx);
    if(top>105) top=-5; if(top<-10) top=100;
    if(left>105) left=-5; if(left<-10) left=100;
    d.style.top=top+'vh'; d.style.left=left+'vw';
    d.style.transform = `rotate(${Math.sin((top+left)*0.1)*10}deg)`;
  });
  requestAnimationFrame(animateDecorations);
}
requestAnimationFrame(animateDecorations);

// ================= String Lights =================
const stringLightsEl = document.getElementById('string-lights');
const LIGHT_COUNT = 30;
for(let i=0;i<LIGHT_COUNT;i++){
  const light = document.createElement('div');
  light.className='light';
  stringLightsEl.appendChild(light);
}

let lastScroll = 0;
window.addEventListener('scroll', ()=>{
  const current = window.scrollY;
  if(current>lastScroll) stringLightsEl.style.display='none';
  else stringLightsEl.style.display='flex';
  lastScroll=current;
});

// ================= Games =================
const games=[
  {name:"Ragdoll Archers",url:"Ragdoll-Archers.html",category:"Action"},
      {name:"Ragdoll Hit",url:"Ragdoll-hit.html",category:"Action"},
      {name:"Time Shooter",url:"Time-shooter.html",category:"Action"},
      {name:"Retro Bowl",url:"Retro-bowl.html",category:"Sports"},
      {name:"Snow Rider",url:"Snow-Rider.html",category:"Racing"},
      {name:"Swords And Sandals",url:"Swords-and-sandlas.html",category:"Action"},
      {name:"Crazy Cattle",url:"Crazy-cattle.html",category:"Arcade"},
      {name:"Gladi Hoppers",url:"Gladi-hoppers.html",category:"Action"},
      {name:"Bit Planes",url:"Bit-planes.html",category:"Arcade"},
      {name:"Final Earth2",url:"Final-earth2.html",category:"Strategy"},
      {name:"Cluster Rush",url:"Cluster-rush.html",category:"Arcade"},
      {name:"Push Your Luck",url:"Push-your-luck.html",category:"Arcade"},
      {name:"Poly Track",url:"Poly-track.html",category:"Racing"},
      {name:"Ragdoll Soccer",url:"Ragdoll-soccer.html",category:"Sports"},
      {name:"Jetpack Joy Ride",url:"Jetpack-joy-ride.html",category:"Action"},
      {name:"Learn To Fly 3",url:"Learn-to-fly-3.html",category:"Racing"},
      {name:"Malidin Stun Cars",url:"Malidin-stun-cars.html",category:"Racing"},
      {name:"Gun Spin",url:"Gun-spin.html",category:"Action"},
      {name:"Age Of War",url:"Age-of-war.html",category:"Strategy"},
      {name:"Moto X3M 2",url:"Moto-x3m-2.html",category:"Racing"},
      {name:"Moto X3M Winter",url:"Moto-x3m-winter.html",category:"Racing"},
      {name:"Basketball Stars",url:"Basketball-stars.html",category:"Sports"},
      {name:"Idle Breakout",url:"Idle-breakout.html",category:"Arcade"},
      {name:"Vex 8",url:"Vex-8.html",category:"Action"},
      {name:"Tiny Fishing",url:"Tiny-fishing.html",category:"Simulation"},
      {name:"Drive Mad",url:"Drive-mad.html",category:"Racing"},
      {name:"Stick Man Hook",url:"Stick-man-hook.html",category:"Action"},
      {name:"Line Rider",url:"Line-rider.html",category:"Racing"},
      {name:"Unicycle Hero",url:"Unicycle-hero.html",category:"Action"},
      {name:"Basket Random",url:"Basket-random.html",category:"Sports"},
      {name:"1v1 Lol",url:"1v1-lol.html",category:"Action"},
      {name:"Happy Wheels",url:"Happy-wheels.html",category:"Action"},
      {name:"Idle Miner Tycoon",url:"Idle-miner-tycoon.html",category:"Simulation"},
      {name:"Johnny Upgrade",url:"Johnny-upgrade.html",category:"Arcade"},
      {name:"Jack Smith",url:"Jack-smith.html",category:"Action"},
      {name:"Tunnel Rush",url:"Tunnel-rush.html",category:"Racing"},
      {name:"Duck Life 5",url:"Duck-life-5.html",category:"Simulation"},
      {name:"Duck Life 4",url:"Duck-life-4.html",category:"Simulation"},
      {name:"Mob Control",url:"Mob-control.html",category:"Action"},
      {name:"A Small World Cup",url:"A-small-world-cup.html",category:"Sports"},
      {name:"Escape Road",url:"Escape-road.html",category:"Racing"},
      {name:"QWOP",url:"QWOP.html",category:"Simulation"},
      {name:"Indian Truck Simulator",url:"Indian-truck-simulator.html",category:"Simulation"},
      {name:"Doge Miner",url:"Doge-miner.html",category:"Simulation"},
      {name:"Draw Climber",url:"Draw-climber.html",category:"Racing"},
      {name:"Slope 3",url:"Slope-3.html",category:"Racing"},
      {name:"Infinte Craft",url:"Infinte-craft.html",category:"Simulation"},
      {name:"Block Blast",url:"Block-blast.html",category:"Arcade"},
      {name:"Melon playground",url:"Melon-playground.html",category:"Simulation"},
      {name:"House of hazards",url:"house-of-hazards.html",category:"Action"},
      {name:"Binding of Issac",url:"Binding-of-issac.html",category:"Action"},
      {name:"Troll Face Quest 10",url:"Troll-face-10.html",category:"Puzzle"},
      {name:"Troll Face Quest 11",url:"Troll-face-11.html",category:"Puzzle"},
      {name:"Troll Face Quest 12",url:"Troll-face-12.html",category:"Puzzle"},
      {name:"Ultimate Car Driving Simulator 3",url:"ultimate-car-simulator.html",category:"Racing"},
      {name:"Wordle",url:"Wordle.html",category:"Puzzle"},
      {name:"Cappybara Clicker",url:"Cappybara-clicker.html",category:"Simulation"},
      {name:"Bob The Robber 5",url:"bob-robber.html",category:"Action"},
      {name:"Car Crash 3D",url:"Car-crash-3d.html",category:"Racing"},
      {name:"Bit Life",url:"Bit-life.html",category:"Simulation"},
      {name:"Plants vs Zombies",url:"Plants-vs-zombies.html",category:"Action"},
      {name:"Tall Man Run",url:"tall-man-run.html",category:"Racing"},
      {name:"Tag",url:"tag.html",category:"Racing"},
      {name:"Subway Surfers Winter",url:"Subway-Winter.html",category:"Racing"},
      {name:"Subway Surfers Miami",url:"Subway-miami.html",category:"Racing"},
      {name:"Hole.io",url:"Hole-io.html",category:"Simulation"},
      {name:"Drift Boss",url:"Drift-boss.html",category:"Racing"},
      {name:"Subway Surfers Mexico",url:"Subway-mexico.html",category:"Racing"},
      {name:"Subway Surfers London",url:"Subway-london.html",category:"Racing"},
      {name:"Subway Surfers Iceland",url:"Subway-iceland.html",category:"Racing"},
      {name:"Granny 2",url:"Granny2.html",category:"Puzzle"},
      {name:"Granny 3",url:"Granny3.html",category:"Puzzle"},
      {name:"Factory Balls 2",url:"Factory-balls2.html",category:"Simulation"},
      {name:"Factory Balls 3",url:"Factory-balls3.html",category:"Simulation"},
      {name:"Geometry Dash Lite",url:"Geometry-Dash.html",category:"Racing"},
      {name:"Hardware Tycoon",url:"Hardware-tycoon.html",category:"Arcade"},
      {name:"CSGO Cliker",url:"CsGo-clicker.html",category:"Arcade"},
      {name:"Cross Road",url:"Crossy-road.html",category:"Arcade"},
      {name:"Burrito Bison",url:"BB.html",category:"Arcade"},
      {name:"Burrito Bison Launch a Libre",url:"BL.html",category:"Arcade"},
      {name:"Burrito Bison Revenge",url:"BR.html",category:"Arcade"},
      {name:"Space Waves",url:"Space-waves.html",category:"Arcade"},
      {name:"The legend of Zelda Ocarina",url:"Zelda0.html",category:"Arcade"},
      {name:"Pokemon emerald randomized",url:"PER.html",category:"Arcade"},
  {name: "Request a Game", url: "#", category: "Request", request: true}
  {name:"Request a Game", url:"#", category:"Request", request:true}
];

const gameListEl = document.getElementById('game-list');
const gameFrame = document.getElementById('game-frame');
const fullscreenBtn = document.getElementById('fullscreen-btn');
const backBtn = document.getElementById('back-btn');

function renderGames(filter='') {
  gameListEl.innerHTML='';
  games.filter(g=>g.name.toLowerCase().includes(filter.toLowerCase())).forEach(g=>{
    const card=document.createElement('div');
    card.className='game-card';
    card.textContent=g.name;
    card.onclick=()=>{
      if(g.request) alert('Request your game!');
      else {
        gameFrame.src=g.url;
        gameFrame.style.display='block';
        fullscreenBtn.style.display='block';
        backBtn.style.display='block';
        window.scrollTo({top:gameFrame.offsetTop,behavior:'smooth'});
      }
    };
    gameListEl.appendChild(card);
  });
}

renderGames();
document.getElementById('search-input').addEventListener('input',(e)=>{
  renderGames(e.target.value);
});

// ================= Fullscreen & Back =================
fullscreenBtn.addEventListener('click', ()=>{ 
  if(gameFrame.requestFullscreen) gameFrame.requestFullscreen();
});

backBtn.addEventListener('click', ()=>{
  gameFrame.style.display='none';
  fullscreenBtn.style.display='none';
  backBtn.style.display='none';
  gameFrame.src='';
  window.scrollTo({top:0, behavior:'smooth'});
});
</script>
</body>
</html>
