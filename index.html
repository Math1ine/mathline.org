<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Math Line</title>
<style>
:root {
  --bg-gradient-color1: #1a0000;
  --bg-gradient-color2: #4a0d0d;
  --bg-gradient-color3: #7d1a1a;
  --bg-gradient-color4: #2a0000;
  --accent-color: #ffb300;
}

body {
  font-family: 'Poppins', sans-serif;
  text-align: center;
  color: #f0f0f0;
  margin: 0;
  padding: 0;
  overflow-x: hidden;
  background: linear-gradient(-45deg, var(--bg-gradient-color1), var(--bg-gradient-color2), var(--bg-gradient-color3), var(--bg-gradient-color4));
  background-size: 400% 400%;
  animation: moveBackground 12s ease infinite;
  transition: background 0.3s;
}

@keyframes moveBackground {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

canvas#bg {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
  background: transparent;
}

header {
  background: rgba(0,0,0,0.4);
  padding: 25px;
}

header h1 {
  margin: 0;
  font-size: 2.8em;
  color: var(--accent-color);
  text-shadow: 0 0 15px var(--accent-color);
}

#settings-btn {
  position: fixed;
  top: 20px;
  right: 20px;
  font-size: 24px;
  background: none;
  border: none;
  cursor: pointer;
  color: var(--accent-color);
  z-index: 1001;
}

#settings-menu {
  display: none;
  position: fixed;
  top:0; left:0;
  width:100%; height:100%;
  background: rgba(0,0,0,0.6);
  justify-content: center;
  align-items: center;
  z-index: 1000;
}

.menu-content {
  background: rgba(0,0,0,0.8);
  padding: 30px;
  border-radius: 12px;
  color: #fff;
  display: flex;
  flex-direction: column;
  gap: 15px;
  min-width: 250px;
}

.game-list {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 20px;
  padding: 20px;
}

.game-card {
  background: rgba(0,0,0,0.5);
  border: 2px solid var(--accent-color);
  color: var(--accent-color);
  width: 220px;
  padding: 20px;
  border-radius: 12px;
  cursor: pointer;
}
</style>
</head>
<body>

<canvas id="bg"></canvas>

<header>
  <h1>Math Line</h1>
</header>

<button id="settings-btn">⚙️</button>

<div id="settings-menu">
  <div class="menu-content">
    <h2>Settings</h2>
    <label>
      Background Color 1: <input type="color" id="color1" value="#1a0000">
    </label>
    <label>
      Background Color 2: <input type="color" id="color2" value="#4a0d0d">
    </label>
    <label>
      Background Color 3: <input type="color" id="color3" value="#7d1a1a">
    </label>
    <label>
      Background Color 4: <input type="color" id="color4" value="#2a0000">
    </label>
    <button id="close-settings">Close</button>
  </div>
</div>

<div class="game-list" id="game-list"></div>

<script>
// Particle background
const canvas = document.getElementById('bg');
const ctx = canvas.getContext('2d');
canvas.width = innerWidth;
canvas.height = innerHeight;

let particles = Array.from({ length: 70 }, () => ({
  x: Math.random()*canvas.width,
  y: Math.random()*canvas.height,
  r: Math.random()*2+1,
  dx: (Math.random()-0.5)*0.5,
  dy: (Math.random()-0.5)*0.5,
  color: Math.random()>0.5?'rgba(255,179,0,0.8)':'rgba(179,0,0,0.8)'
}));

function animate() {
  ctx.fillStyle='rgba(0,0,0,0.25)';
  ctx.fillRect(0,0,canvas.width,canvas.height);
  particles.forEach(p=>{
    ctx.beginPath();
    ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
    ctx.fillStyle=p.color;
    ctx.fill();
    p.x+=p.dx; p.y+=p.dy;
    if(p.x<0||p.x>canvas.width)p.dx*=-1;
    if(p.y<0||p.y>canvas.height)p.dy*=-1;
  });
  requestAnimationFrame(animate);
}
animate();

window.addEventListener('resize',()=>{canvas.width=innerWidth; canvas.height=innerHeight;});

// Simple game list
const games = ["Ragdoll archers","Time shooter","Retro bowl","Snow rider"];
const gameList = document.getElementById("game-list");
function renderGames(){
  gameList.innerHTML="";
  games.forEach(name=>{
    const card = document.createElement("div");
    card.className="game-card";
    card.textContent = name;
    gameList.appendChild(card);
  });
}
renderGames();

// Settings logic
const settingsBtn = document.getElementById('settings-btn');
const settingsMenu = document.getElementById('settings-menu');
const closeBtn = document.getElementById('close-settings');

const color1 = document.getElementById('color1');
const color2 = document.getElementById('color2');
const color3 = document.getElementById('color3');
const color4 = document.getElementById('color4');

settingsBtn.onclick = ()=> settingsMenu.style.display='flex';
closeBtn.onclick = ()=> settingsMenu.style.display='none';

function updateBackground(){
  document.body.style.background = `linear-gradient(-45deg, ${color1.value}, ${color2.value}, ${color3.value}, ${color4.value})`;
}

color1.oninput = color2.oninput = color3.oninput = color4.oninput = updateBackground;
</script>
</body>
</html>
